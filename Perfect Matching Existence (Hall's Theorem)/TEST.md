# Perfect Matching Existence

*Given a bipartite graph, does a perfect matching exist?*

### Background

Recall that a _**bipartite network**_ is a network <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/56f934a7707b01a81435f67080a62e2f.svg?invert_in_darkmode" align=middle width=78.51806489999998pt height=24.65753399999998pt/> in which we can partition the vertices into two disjoint sets, <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/c74b3ba952546b39a80ca3a8be8d25f8.svg?invert_in_darkmode" align=middle width=84.24855944999999pt height=22.465723500000017pt/>, such that each edge consists of a pair <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/28ec3aaf75e62e58d527083c5f4c4a97.svg?invert_in_darkmode" align=middle width=41.71243559999999pt height=24.65753399999998pt/> with <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/aafd2340f3bdc9cca2b85dfbc75ec328.svg?invert_in_darkmode" align=middle width=42.51737159999999pt height=22.465723500000017pt/> and <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/d296bb9b19425934b2ffccd914d86d9b.svg?invert_in_darkmode" align=middle width=50.110244249999994pt height=22.465723500000017pt/>.

A _**matching**_ is a subset of edges such that no two edges share a vertex.

A **_perfect matching_** is a matching that touches every vertex (need <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/c80998c94f3f15a90f65cd6a349f6ed0.svg?invert_in_darkmode" align=middle width=71.0067237pt height=24.65753399999998pt/> in the bipartite case).

### Hall's Matching Theorem

Let <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/b1e0ce273793ac546262f288f5caca71.svg?invert_in_darkmode" align=middle width=114.3649287pt height=24.65753399999998pt/> be a bipartite graph with <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/c80998c94f3f15a90f65cd6a349f6ed0.svg?invert_in_darkmode" align=middle width=71.0067237pt height=24.65753399999998pt/>. Then a perfect matching of <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/5201385589993766eea584cd3aa6fa13.svg?invert_in_darkmode" align=middle width=12.92464304999999pt height=22.465723500000017pt/> exists if and only if <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/507528817a4da3c09f92f6a6b8a22b90.svg?invert_in_darkmode" align=middle width=90.02269319999998pt height=24.65753399999998pt/> for all <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/73cb030fded660d081044eea0e4081e6.svg?invert_in_darkmode" align=middle width=50.75327399999998pt height=22.465723500000017pt/>.

##### Proof

- If a network has a _**constricted set**_, then no perfect matching exists.
  - Given a subset of vertices <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/73cb030fded660d081044eea0e4081e6.svg?invert_in_darkmode" align=middle width=50.75327399999998pt height=22.465723500000017pt/>, the _**neighbor set**_ N(S) is the set of all neightbors of the elements of <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/e257acd1ccbe7fcb654708f1a866bfe9.svg?invert_in_darkmode" align=middle width=11.027402099999989pt height=22.465723500000017pt/>. The set <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/e257acd1ccbe7fcb654708f1a866bfe9.svg?invert_in_darkmode" align=middle width=11.027402099999989pt height=22.465723500000017pt/> is _**constrited**_ if <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/7e30252d640bdae6aa7d31c0dd368aa7.svg?invert_in_darkmode" align=middle width=68.10506339999998pt height=24.65753399999998pt/>.
  - If there exists a set <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/73cb030fded660d081044eea0e4081e6.svg?invert_in_darkmode" align=middle width=50.75327399999998pt height=22.465723500000017pt/> such that <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/408379b9b9fdfc5475a9e932899e2899.svg?invert_in_darkmode" align=middle width=68.10506339999998pt height=24.65753399999998pt/>, then a perfect matching does not exist.
- It will suffice to prove the converse: “if a perfect matching does not exist, then there exists a constricting set”
  - If no perfect matching exists, let <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode" align=middle width=17.73973739999999pt height=22.465723500000017pt/> be a _**maximum matching**_ that pairs up as many vertices as possible.
  - Let <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/aafd2340f3bdc9cca2b85dfbc75ec328.svg?invert_in_darkmode" align=middle width=42.51737159999999pt height=22.465723500000017pt/> be a vertex that is _**unmatched**_ by <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode" align=middle width=17.73973739999999pt height=22.465723500000017pt/>.
  Consider the set of all network paths that start at <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/6dbb78540bd76da3f1625782d42d6d16.svg?invert_in_darkmode" align=middle width=9.41027339999999pt height=14.15524440000002pt/> and alternate between edges in <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode" align=middle width=17.73973739999999pt height=22.465723500000017pt/> and edges not in <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode" align=middle width=17.73973739999999pt height=22.465723500000017pt/>; call this set <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/33558ba099490ef7816962db1ab9d453.svg?invert_in_darkmode" align=middle width=10.045686749999991pt height=22.648391699999998pt/>, the _**alternating paths**_.
  - Claim: if a vertex (other than <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/6dbb78540bd76da3f1625782d42d6d16.svg?invert_in_darkmode" align=middle width=9.41027339999999pt height=14.15524440000002pt/>) is in <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/33558ba099490ef7816962db1ab9d453.svg?invert_in_darkmode" align=middle width=10.045686749999991pt height=22.648391699999998pt/>, then so is its matched partner from <img src="https://rawgit.com/gstenger98/algorithms/master/svgs/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode" align=middle width=17.73973739999999pt height=22.465723500000017pt/>
  - ...
